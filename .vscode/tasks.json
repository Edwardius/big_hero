{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Setup Devcontainer (CPU Only)",
      "type": "shell",
      "command": "./.devcontainer/generate_devcontainer.sh",
      "args": [
        "${input:rosDistro}",
        "cpu"
      ],
      "problemMatcher": [],
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "showReuseMessage": true,
        "clear": false
      }
    },
    {
      "label": "Setup Devcontainer (GPU)",
      "type": "shell",
      "command": "./.devcontainer/generate_devcontainer.sh",
      "args": [
        "${input:rosDistro}",
        "gpu",
        "${input:cudaVersion}",
        "${input:ubuntuVersion}"
      ],
      "problemMatcher": [],
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "showReuseMessage": true,
        "clear": false
      }
    }
  ],
  "inputs": [
    {
      "id": "rosDistro",
      "type": "pickString",
      "description": "Select ROS2 distribution",
      "options": [
        "jazzy",
        "rolling"
      ],
      "default": "jazzy"
    },
    {
      "id": "containerType",
      "type": "pickString",
      "description": "Select container type",
      "options": [
        {
          "label": "CPU Only",
          "value": "cpu"
        },
        {
          "label": "GPU Enabled (NVIDIA)",
          "value": "gpu"
        }
      ],
      "default": "cpu"
    },
    {
      "id": "cudaVersion",
      "type": "pickString",
      "description": "Select CUDA version",
      "options": [
        "13.0.1",
        "12.9.1"
      ],
      "default": "13.0.1"
    },
    {
      "id": "ubuntuVersion",
      "type": "pickString",
      "description": "Select Ubuntu version",
      "options": [
        {
          "label": "Ubuntu 24.04 (Noble)",
          "value": "24.04"
        }
      ],
      "default": "24.04"
    }
  ]
}
